{
  "hash": "418e3ef1d1fa20152233c280bf99d2e6",
  "result": {
    "markdown": "---\ntitle: \"Atelier D2E\"\nsubtitle: \"Utilisation de modèles de régression à coefficients variant dans le temps dans le cadre de la prévision conjoncturelle\"\nauthor:\n- Claire du Campe de Rosamel\n- Alain Quartier-la-Tente\nformat: \n  revealjs:\n   smaller: true\n   theme: default\n   css: css/template.css\n   slide-number: true\n   transition: slide\ntitle-slide-attributes:\n  data-background-image: img/logo.png\n  data-background-size: 15%\n  data-background-position: right 50% bottom 10%\nfig-height: 7\ndate: 03/16/2023\ndate-format: \"D MMMM YYYY\"\nlang: fr\n---\n\n\n\n## Introduction\n\nSur longue période, les institutions, les normes de sociétés ainsi que les comportements des agents économiques évoluent, induisant des changements dans la dynamique des séries économiques étudiées.\n\n. . .\n\nDe nombreux modèles de l'Insee sont basés sur des régressions linéaires (CJO, prévisions, calage...) qui supposent que les relations entre les variables sont fixes dans le temps.\n\n. . .\n\nHypothèse vraie sur le court-terme mais généralement fausse sur le long-terme ou en présence de changements structurels (changement de nomenclature, de définition, COVID...)\n\n. . .\n\nObjectifs : \n\n- étudier des méthodes qui permettent de relâcher cette contrainte ;\n\n- proposer une façon simple d'implémenter et de comparer ces méthodes (package {{< fa brands r-project >}} `tvCoef`)\n\n## Modèle de régression linéaire\n\nIdée générale :\n\n$$\n\\DeclareMathOperator{\\argmin}{argmin}\ny_t=\\beta_0+\\beta_1 x_{1,t}+\\dots+\\beta_p x_{p,t} +\\varepsilon_t \n$$\n\n$$\ny_t=\\beta X_t+\\varepsilon_t\n$$\n\nEstimé grâce à la méthode des moindres carrés ordinaires\n\n. . .\n\nExemple simple : prévision du PIB à partir du climat des affaires France (au mois 2) en niveau et en différence\n\n$$\nPIB_t = \\beta_0 + \\beta_1 climat\\_fr_t + \\beta_2 \\Delta climat\\_fr_t + \\varepsilon_t\n$$\n\n. . . \n\nEstimation entre 2000 T1 et 2019 T4 : \n\n$$\nPIB_t = -2,09 + 0,02 \\times climat\\_fr_t + 0,04 \\times \\Delta climat\\_fr_t + \\varepsilon_t\n$$\n\n\n## \n\nDeux types d'estimations : estimations **dans l'échantillon** et estimations **en temps réel**. \n\n- **Dans l'échantillon** : utilise toutes les données disponibles pour estimer les valeurs au sein de l'échantillon. \nCe sont les valeurs ajustées qu'on obtient après une régression linéaire. \n\n. . . \n\n- **En temps réel** : prévisions hors échantillon qui prévoient des valeurs en dehors d'un échantillon de données.\\\n{{< fa arrow-circle-right >}} Modèle estimé jusqu'à $t$ pour effectuer la prévision de $t+1$, puis on recommence en estimant le modèle jusqu'à $t+1$.\n\n. . .\n\nQualité des modèles évaluée par l'analyse des résidus et le calcul du RMSE (*root mean square error*) :\n\n$$\n\\sqrt{\\frac{\\sum_{t=1}^{T} (PIB_t - \\widehat{PIB}_t)^2}{T}}\n$$\n\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-64f8be8af19f8df74fda\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-64f8be8af19f8df74fda\">{\"x\":{\"attrs\":{\"title\":\"PIB entre 2000 et 2019\",\"labels\":[\"quarter\",\"PIB\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"black\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"series\":{\"PIB\":{\"axis\":\"y\"}},\"legend\":\"always\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-df0851614a8afe727003\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-df0851614a8afe727003\">{\"x\":{\"attrs\":{\"title\":\"Valeurs ajustées modèle linéaire  <br> <small> RMSE lineaire = 0,332\",\"labels\":[\"quarter\",\"PIB\",\"lm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[0.598825212642448,0.648541749257056,0.925812344039495,0.555802157660519,0.553972504855645,0.103945964140489,0.133241380272382,-0.0934593158889931,0.472951748929791,0.656534572108525,0.0742150544232231,0.246563617561818,0.0323298154498997,-0.050843643701189,0.387190092968092,0.44315413200306,0.594256323443738,0.443751150798614,0.503251566651359,0.339995045954625,0.478819979347278,0.169068752826784,0.392679051382713,0.506503489466985,0.448927544419831,0.641507592039711,0.673229679772033,0.740399868055886,0.639231960022506,0.720575766368722,0.581750832976068,0.508740525065979,0.435919853157325,0.140626698701341,-0.251444624963793,-1.06327078241377,-0.71093199449672,-0.350705687355877,0.319679229099582,0.441865276411235,0.24413694596139,0.471406550127068,0.524308302347842,0.702335459902493,0.760603241745918,0.487940132580394,0.00227585531227192,-0.106969207946338,0.000702545718295974,0.129079873867798,-0.142350601288406,-0.111415168353073,0.00862866136030266,-0.205889594753766,0.435551066781415,0.325006662304022,0.204678378588496,0.231698162703184,-0.0290950712084348,0.197103424158103,0.310833044241659,0.486651276988568,0.572412932950267,0.394887976190454,0.39757099100178,0.506124217464117,0.372665313694116,0.427178971927076,0.668717012155834,0.564581635308977,0.757066864928141,0.688284770632099,0.611927721905667,0.411108993850377,0.447220820406928,0.420485490294389,0.323138413080937,0.59523261424216,0.412720899862563,0.518875565515727]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-e08fab8a7b166f030a68\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e08fab8a7b166f030a68\">{\"x\":{\"attrs\":{\"title\":\"Estimations en temps réel modèle linéaire  <br> <small> RMSE lineaire = 0,393\",\"labels\":[\"quarter\",\"PIB\",\"lm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0.534166404954693,-0.103104411127666,-0.18964603220776,-0.0369624431061809,0.120360933906096,-0.213646487100405,-0.152235283111508,-0.00898133106222101,-0.255851709075095,0.529461280039197,0.356904679356119,0.234367383828075,0.258528001348958,-0.0304532186859527,0.229980773785856,0.344607701510106,0.537855377337867,0.617416351661923,0.425395592011462,0.424329184441411,0.540121408347168,0.389049869304241,0.442039667842381,0.690114375240407,0.588350042693233,0.791377206993168,0.726283248821032,0.64498297798604,0.421800084528736,0.458828700171521,0.429774829959946,0.333869521235204,0.613298302931367,0.431632598322139,0.532052195143179]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Objectifs\n\nComparer différentes méthodes pour modéliser et estimer : \n\n$$\nPIB_t = \\beta_{0,t} + \\beta_{1,t} climat\\_fr_t + \\beta_{2,t} \\Delta climat\\_fr_t + \\varepsilon_t\n$$\n\nIdée : rester proche du cas de la régression linéaire pour que les résultats restent facilement interprétables. \n\n. . .\n\nPlan :\n\n1. Les tests statistiques étudiés\n1. Les régressions par morceaux\n1. Les régressions locales\n1. Les modèles espace-état\n1. Quelques résultats généraux\n\n## Tests statistiques : Bai et Perron\n\nOn cherche à savoir si les coefficients sont stables au cours du temps. \n\nBai et Perron s'appuie sur le test de Chow. \nProposent un algorithme efficace pour trouver les dates de ruptures (package `strucchange`). \nSoit le modèle :\n\n$$\nPIB_t = \\beta_0 + \\beta_1 climat\\_fr_t + \\beta_2 \\Delta climat\\_fr_t + \\varepsilon_t\n$$\n\n. . .\n\nOn le sépare en deux, autour d'une date $t_1$, et on obtient deux sous-modèles :\n\n$$\n\\forall t \\leq t_1 :\\quad PIB_t = \\beta_0' + \\beta_1' climat\\_fr_t + \\beta_2' \\Delta climat\\_fr_t + \\varepsilon_t\n$$\n\n$$\n\\forall t > t_1 :\\quad PIB_t = \\beta_0'' + \\beta_1'' climat\\_fr_t + \\beta_2'' \\Delta climat\\_fr_t + \\varepsilon_t\n$$\n\nL'hypothèse nulle suppose que $\\beta_0' = \\beta_0''$, $\\beta_1' = \\beta_1''$ et $\\beta_2' = \\beta_2''$. Autrement dit, on teste si les deux modèles obtenus sont significativement différents.\n\n## Limites de Bai Perron\n\n-   La rupture peut n'être que sur un sous-ensemble de variables, mais le test ne s'applique que sur l'ensemble d'un modèle\n\n. . .\n\nOn teste :\n\n$$\nPIB_t = (\\beta_{0} + \\beta_{1} climat\\_fr_t + \\beta_{2} \\Delta climat\\_fr_t) \\mathbb 1_{t \\leq t_1} +\n\\\\\n(\\beta_{0}' + \\beta_{1}' climat\\_fr_t + \\beta_{2}' \\Delta climat\\_fr_t)\\mathbb 1_{t > t_1} +\n\\varepsilon_t\n$$\n\nOn ne peut pas tester :\n\n$$\nPIB_t = \\beta_{0} + \\beta_{1} climat\\_fr_t + (\\beta_{2} \\mathbb 1_{t \\leq t_1}+ \\beta_{2}' \\mathbb 1_{t > t_1})\\Delta climat\\_fr_t +\n\\varepsilon_t\n$$\n\n. . .\n\n-  Instabilité sur le choix de la date et la rupture n'est pas forcément brutale (ex : évolution lente dans le temps)\n\n. . .\n\nMais ces tests supposent qu'il existe une date de rupture à déterminer, alors que l'on veut parfois juste savoir si les coefficients sont constants ou non.\n\n## Nyblom et Hansen\n\n\nTests trouvés dans la littérature autour de Nyblom et Hansen (1992) : sous {{< fa brands r-project >}} `tvCoef::hansen.test()`\n$$\n\\begin{cases}\n(H_0):&\\text{coefficients constants} \\\\\n(H_1):&\\text{coefficients suivent une martingale}\n\\end{cases}\n$$\n\n. . .\n\nLimites de Hansen :\n\n- Test de la l'instabilité de la variance (passer par d'autres tests)\n\n- Test joint ne s'applique pas aux indicatrices\n\n- Ne s'applique que sur les variables stationnaires\n\n. . .\n\n{{< fa triangle-exclamation >}} Comme tout test, ils ont leurs limites, prendre les résultats avec précaution.\\\nEx : même si le test de Hansen ne détecte pas d'instabilité, le test de Bai et Perron peut néanmoins détecter des ruptures.\n\n## Régressions linéaires par morceaux\n\nModèles les plus simples :\n\n$$\n\\exists t_1,\\dots,t_{T-1}:\\:\n\\beta_t = \\beta_1\\mathbb 1_{t \\leq t_1} + \\beta_2 \\mathbb 1_{t_1 < t \\leq t_2} + \\dots + \\beta_T \\mathbb 1_{t_{T-1} < t}\n$$\n\n. . .\n\nS'estiment en :\n\n1. Découpant les régresseurs ($\\mathbb V[\\varepsilon_t]$ fixe dans le temps)\\\n{{< fa brands r-project >}} `tvCoef::piece_reg()`\n\n2. Ou en faisant des régressions linéaires par morceaux ($\\mathbb V[\\varepsilon_t]$ varie par sous-période)\\\n{{< fa brands r-project >}} `tvCoef::bp.lms()`\n\n. . .\n\n{{< fa arrow-circle-right >}} utilisation du cas 1 car donne une seule régression en sortie.\n\nDans les deux cas estimations de coefficients restent les mêmes.\nDifférences : sur les variances et sur les estimations en temps réel.\n\n##\n\n{{< fa regular face-smile >}} Avantages :\n\n-   Simples à comprendre et à implémenter\n\n-   Facilement combinable avec d'autres types de modèles (régressions locales)\n\n. . . \n\n{{< fa regular face-frown >}} Inconvénients :\n\n-   Suppose l'existence une rupture brutale\n\n-   Imprécisions dans le choix de la date\n\n. . .\n\nDans le cas de notre modèle exemple, Bai et Perron détecte une rupture en 2011 T1. Le modèle suivant est donc estimé :\n\n$$\nPIB_t = (\\beta_{0,t}+ \\beta_{1,t}climat\\_fr_t + \\beta_{2,t} \\Delta climat\\_fr_t) \\mathbb{1} _{t \\leq 2011} +\n\\\\\n(\\beta_{0,t} + \\beta_{1,t} climat\\_fr_t + \\beta_{2,t} \\Delta climat\\_fr_t) 1_{t > 2011} + \\varepsilon_t \n$$\n\n. . . \n\nCe qui donne : \n\n$$\nPIB_t = (-2,9+ 0,03 \\times climat\\_fr_t + 0,07 \\times \\Delta climat\\_fr_t) \\mathbb{1} _{t \\leq 2011} +\n\\\\\n(-1,04 + 0,01 \\times climat\\_fr_t - 0,01 \\times \\Delta climat\\_fr_t) 1_{t > 2011} + \\varepsilon_t\n$$\n\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-1147950f7f9d6216b6c6\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1147950f7f9d6216b6c6\">{\"x\":{\"attrs\":{\"title\":\"Valeurs ajustées régression par morceaux  <br> <small> RMSE lineaire = 0,332, RMSE morceaux = 0,295\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"piecelm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"green\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[0.598825212642448,0.648541749257056,0.925812344039495,0.555802157660519,0.553972504855645,0.103945964140489,0.133241380272382,-0.0934593158889931,0.472951748929791,0.656534572108525,0.0742150544232231,0.246563617561818,0.0323298154498997,-0.050843643701189,0.387190092968092,0.44315413200306,0.594256323443738,0.443751150798614,0.503251566651359,0.339995045954625,0.478819979347278,0.169068752826784,0.392679051382713,0.506503489466985,0.448927544419831,0.641507592039711,0.673229679772033,0.740399868055886,0.639231960022506,0.720575766368722,0.581750832976068,0.508740525065979,0.435919853157325,0.140626698701341,-0.251444624963793,-1.06327078241377,-0.71093199449672,-0.350705687355877,0.319679229099582,0.441865276411235,0.24413694596139,0.471406550127068,0.524308302347842,0.702335459902493,0.760603241745918,0.487940132580394,0.00227585531227192,-0.106969207946338,0.000702545718295974,0.129079873867798,-0.142350601288406,-0.111415168353073,0.00862866136030266,-0.205889594753766,0.435551066781415,0.325006662304022,0.204678378588496,0.231698162703184,-0.0290950712084348,0.197103424158103,0.310833044241659,0.486651276988568,0.572412932950267,0.394887976190454,0.39757099100178,0.506124217464117,0.372665313694116,0.427178971927076,0.668717012155834,0.564581635308977,0.757066864928141,0.688284770632099,0.611927721905667,0.411108993850377,0.447220820406928,0.420485490294389,0.323138413080937,0.59523261424216,0.412720899862563,0.518875565515727],[0.657152618637977,0.725803359672089,1.08244744978589,0.604625771070593,0.607585705442309,0.0360121520755146,0.0863214463702178,-0.195472094587863,0.539041991468139,0.767619817289772,0.0150442238725412,0.243266635033259,-0.0292162128660274,-0.129652299112754,0.436054899040583,0.501336777512097,0.688969515627795,0.489421564742502,0.564143125085519,0.353217878434227,0.532917658629264,0.135328480809524,0.427175095925439,0.571516204249819,0.494523577104155,0.739709699866151,0.775143847019546,0.856829558335975,0.723176878208526,0.826572898826969,0.64687311863193,0.555263321970374,0.465031260446954,0.0912189946364275,-0.400606461308433,-1.42285591881871,-0.943398527339859,-0.471647667933459,0.384399421384952,0.524478335482218,0.258141782174568,0.544068528547056,0.603355062992403,0.824075406176115,0.889841688121251,0.403772189847527,0.364170765902492,0.28163933249472,0.221952423073785,0.200833985489514,0.182744874574616,0.145066474755079,0.130417948369354,0.119372179407865,0.130244187198336,0.195576581708336,0.220691652162708,0.227036065683945,0.217764646618731,0.199250779178194,0.216826311107896,0.251087302950173,0.297206901587464,0.325745174157074,0.327077385113775,0.335010799084311,0.342998270686534,0.338242857614595,0.355633040097321,0.385252528269012,0.406573697714195,0.436067688208576,0.444120805718443,0.429269547471808,0.401233265611437,0.384422308021552,0.364373497763403,0.358040672518123,0.369959131082803,0.36609379002799]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-04fb813cdfb9fc3762fb\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-04fb813cdfb9fc3762fb\">{\"x\":{\"attrs\":{\"title\":\"Estimations en temps réel régression par morceaux  <br> <small> RMSE lineaire = 0,393, RMSE morceaux = 0,391\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"piecelm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"green\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0.534166404954693,-0.103104411127666,-0.18964603220776,-0.0369624431061809,0.120360933906096,-0.213646487100405,-0.152235283111508,-0.00898133106222101,-0.255851709075095,0.529461280039197,0.356904679356119,0.234367383828075,0.258528001348958,-0.0304532186859527,0.229980773785856,0.344607701510106,0.537855377337867,0.617416351661923,0.425395592011462,0.424329184441411,0.540121408347168,0.389049869304241,0.442039667842381,0.690114375240407,0.588350042693233,0.791377206993168,0.726283248821032,0.64498297798604,0.421800084528736,0.458828700171521,0.429774829959946,0.333869521235204,0.613298302931367,0.431632598322139,0.532052195143179],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0,-0.0931247339293284,1.03139660224725,-0.395580079618906,-0.271088982077858,0.0715315207128959,0.010772005556985,-0.225781504632073,0.084777092889227,-0.530609485934445,-0.104130115276097,0.121860746569997,0.0997633435659908,0.205022098459593,0.123490111488231,0.05501592960105,0.0580066495275949,0.0538048435943586,0.153999787076283,0.160273727575456,0.201716543113981,0.172138256138145,0.167094480287732,0.155272642436341,0.294338963247788,0.372860903574141,0.497509267606082,0.524501979305841,0.43799086051712,0.411474019312507,0.391361287299209,0.381945722979368,0.38565443078835,0.416557034038518,0.396881457026985]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## Régressions locales : {{< fa brands r-project >}} `tvreg`\n\nHypothèse $\\beta_t = \\beta(z_t)$ avec par défaut $z_t = t/T$ et $\\beta()$ localement constante (Nadaraya-Watson) ou localement linéaire.\n\n. . .\n\nEstimation :\n$$\n\\beta(z_t) = \\underset{\\theta_0}{\\argmin}\\sum_{j=1}^T\\left(y_{j}-x_j\\theta_0\\right)^2K_b(z_j-z_t)\n$$\nAvec $K_b(x)=\\frac 1 b K(x/b)$ une fonction de noyau pour pondérer les observations.\n\n. . .\n\nRemarque :\n\n-   Si $b\\geq1$ on utilise toutes les données pour chaque estimation.\\\n-   Si $b \\rightarrow 20$ le poids associé à chaque donnée tend à devenir le même pour toutes, estimation $\\simeq$ à la régression linéaire\n\n## \n\n![](graphs_atelier/bw_anim.gif){fig-align=\"center\"}\n\n##\n\n{{< fa regular face-frown >}} Inconvénient :\n\n-   Tous les coefficients varient\\\n-   Problème du choix de $b$ : par validation croisée (entre 0 et 20) mais peu discriminant\\\n-   Fortes révisions possibles en temps-réel : ajout d'un point, changement de b, noyau asymétrique\n\n. . .\n\nRemarque :\n\n-   Possibilité de combiner les précédents modèles en estimant une régression locale sur des données coupées \n\n-   En effectuer deux régression, on peut fixer les coefficients de certaines variables. \n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-70f831c45f1b4b7759c6\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-70f831c45f1b4b7759c6\">{\"x\":{\"attrs\":{\"title\":\"Valeurs ajustées régression locale <br> <small> RMSE lineaire = 0,332, RMSE locale = 0,292\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"tvlm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"blue\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[0.598825212642448,0.648541749257056,0.925812344039495,0.555802157660519,0.553972504855645,0.103945964140489,0.133241380272382,-0.0934593158889931,0.472951748929791,0.656534572108525,0.0742150544232231,0.246563617561818,0.0323298154498997,-0.050843643701189,0.387190092968092,0.44315413200306,0.594256323443738,0.443751150798614,0.503251566651359,0.339995045954625,0.478819979347278,0.169068752826784,0.392679051382713,0.506503489466985,0.448927544419831,0.641507592039711,0.673229679772033,0.740399868055886,0.639231960022506,0.720575766368722,0.581750832976068,0.508740525065979,0.435919853157325,0.140626698701341,-0.251444624963793,-1.06327078241377,-0.71093199449672,-0.350705687355877,0.319679229099582,0.441865276411235,0.24413694596139,0.471406550127068,0.524308302347842,0.702335459902493,0.760603241745918,0.487940132580394,0.00227585531227192,-0.106969207946338,0.000702545718295974,0.129079873867798,-0.142350601288406,-0.111415168353073,0.00862866136030266,-0.205889594753766,0.435551066781415,0.325006662304022,0.204678378588496,0.231698162703184,-0.0290950712084348,0.197103424158103,0.310833044241659,0.486651276988568,0.572412932950267,0.394887976190454,0.39757099100178,0.506124217464117,0.372665313694116,0.427178971927076,0.668717012155834,0.564581635308977,0.757066864928141,0.688284770632099,0.611927721905667,0.411108993850377,0.447220820406928,0.420485490294389,0.323138413080937,0.59523261424216,0.412720899862563,0.518875565515727],[0.779233128871401,0.79116985249333,1.02417925043818,0.713872027998697,0.688313999789198,0.255160310175773,0.238813810155979,0.000532341892207577,0.522010006374251,0.717471529368086,0.165745327725347,0.325361519145886,0.116853163715229,0.0382085941824055,0.48307403087662,0.540791674938621,0.692169180950704,0.512039820842266,0.569944917032666,0.362452149596871,0.534221401836599,0.123758872441323,0.434444129444062,0.571718478300193,0.46883356680004,0.720543249847872,0.733827298391689,0.802300585717753,0.639325171389901,0.745259708466139,0.542738469242841,0.448077555906473,0.359357698373793,-0.0225630742953693,-0.505724526513479,-1.50927774507713,-0.938677847600004,-0.42868821270857,0.42239057038353,0.52837686929612,0.252773537997077,0.517101826133149,0.562041817299775,0.750241934504725,0.796364203578305,0.498779290690298,0.0224702978070506,-0.0556307024221087,0.0582531231017213,0.171667952396,-0.0113599691731817,0.0252159011217751,0.103992096747834,0.0280993410852149,0.251040579690871,0.248169212700978,0.244592127784909,0.253008921452029,0.239959017243787,0.219109849728936,0.234515235655887,0.267012385851288,0.322403882360802,0.374296857516709,0.376426803369724,0.382948659734707,0.393810584519514,0.387338939540856,0.426873369547392,0.445910971138961,0.505353573351879,0.516892029230717,0.499504018643733,0.410696751577263,0.404072945866817,0.378772939506992,0.317439751786229,0.456371564638161,0.358321519989189,0.413604444506246]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-29f563fa8fd0a03ad19e\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-29f563fa8fd0a03ad19e\">{\"x\":{\"attrs\":{\"title\":\"Estimations en temps réel régression locale  <br> <small> RMSE lineaire = 0,393, RMSE locale = 0,598\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"tvlm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"blue\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0.534166404954693,-0.103104411127666,-0.18964603220776,-0.0369624431061809,0.120360933906096,-0.213646487100405,-0.152235283111508,-0.00898133106222101,-0.255851709075095,0.529461280039197,0.356904679356119,0.234367383828075,0.258528001348958,-0.0304532186859527,0.229980773785856,0.344607701510106,0.537855377337867,0.617416351661923,0.425395592011462,0.424329184441411,0.540121408347168,0.389049869304241,0.442039667842381,0.690114375240407,0.588350042693233,0.791377206993168,0.726283248821032,0.64498297798604,0.421800084528736,0.458828700171521,0.429774829959946,0.333869521235204,0.613298302931367,0.431632598322139,0.532052195143179],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.206050744681478,0.610606896586859,0.718204606213962,0.54080473938012,0.219408006024242,0.0909823779968318,-1.297933452501,-1.07823261238484,1.05281215404475,-1.57579931186398,0.527488235584147,0.432556943301317,0.212062470895099,0.567738300522917,0.608031825705792,0.865418788439662,0.832737326590211,0.5097591584798,-0.521992637334568,-0.0264754270758491,0.173667942514531,0.255193267423145,-0.0288539555788453,0.0564408076498087,0.0356462156304523,-0.0768894913883251,0.279387180597407,0.125733434793252,0.243453810688675,0.205260032141933,0.218784392338795,0.198977126683985,0.124154574131002,0.180720371788723,0.1708784453834,0.312570293145367,0.263401841362485,0.343307897773707,0.255032667731408,0.225587412342379,0.132752487676823,0.406313954811364,0.523923484884271,0.729579322828823,0.709504914287911,0.352210207185714,0.397875611995181,0.367460455724686,0.335445663871471,0.507791927785155,0.462206907532687,0.487702530403333]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n## Modèles espace-état\n\nModélisation espace-état est une méthodologie générale qui permet de traiter un grand nombre de problèmes de séries temporelle.\n\n. . .\n\nHypothèse : problème déterminé par une série de vecteurs *non observés* $\\alpha_1,\\dots,\\alpha_n$ associés aux observations $y_1,\\dots,y_n$, la relation entre $\\alpha_t$ et $y_t$ étant spécifiée par le modèle espace-état.\n\n. . .\n\nPlusieurs formes de modèles sont possibles, les plus simples étant les modèles linéaires gaussiens.\\\nVersion simplifiée :\n\n$$\n\\begin{cases}\ny_t=X_t\\alpha_t+\\varepsilon_t,\\quad&\\varepsilon_t\\sim\\mathcal N(0,\\sigma^2)\\\\\n\\alpha_{t+1}=\\alpha_t+\\eta_t,\\quad&\\eta_t\\sim\\mathcal N(0,\\sigma^2 Q)\n\\end{cases},\\text{ avec }\\eta_t\\text{ et }\\varepsilon_t\\text{ indépendants}\n$$\n\navec $y_t$ de dimension $p\\times 1$ vecteur des observations, et $\\alpha_t$ de dimension $m \\times 1$ vecteur d'états (*state vector*). \n\n. . .\n\n$\\sigma^2$ un facteur simplifiant les estimations (*Concentration of loglikelihood*).\n\n## Retour sur la régression linéaire\n\nRégression linéaire :\n$$\n\\begin{cases}\ny_t=X_t\\alpha+\\varepsilon_t,\\quad&\\varepsilon_t\\sim\\mathcal N(0,\\sigma^2)\\\\\n\\alpha_{t+1}=\\alpha_t=\\dots=\\alpha_0=\\alpha\n\\end{cases}\n$$\nC'est-à-dire :\n$$\nPIB_t = \\beta_0 + \\beta_1 climat\\_fr_t + \\beta_2 \\Delta climat\\_fr_t + \\varepsilon_t\n$$\nDevient :\n$$\nPIB_t=\\begin{pmatrix}1 & climat\\_fr & \\Delta climat\\_fr\\end{pmatrix}_t\n\\begin{pmatrix}\n\\beta_0 \\\\\n\\beta_1 \\\\ \n\\beta_2\n\\end{pmatrix} + \\varepsilon_t\n$$\n\n## Estimation par filtre de Kalman\n\n\nDeux opérations classiques : *filtering* et *smoothing*\n\n-   Smoothing : estime le coefficient à chaque date grâce à toute l'information disponible. Ce qui est proche des estimations dans l'échantillon.\n\n$$\n\\hat\\alpha_t = E[\\alpha_t|y_0, \\dots, y_n]\n$$\nEx : régression linéaire : $\\hat\\alpha_t = \\hat \\alpha$\n\n. . . \n\n-   Filtering : estime le coefficient suivant (en $t+1$) avec les informations connues en $t$. Ce qui est proche des estimations en temps-réel.\n\n$$\na_{t+1} = E[\\alpha_{t+1}|y_0, \\dots, y_t]\n$$\n\nEx : régression linéaire : $a_{2010T2} = \\hat \\alpha$ estimé en utilisant les données jusqu'en 2010T1\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-2550b1b7089d11fdd4a8\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2550b1b7089d11fdd4a8\">{\"x\":{\"attrs\":{\"title\":\"Valeurs ajustées modèle espace-état  <br> <small> RMSE lineaire = 0,332, RMSE espace etat = 0,291\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"ssm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"purple\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[0.598825212642448,0.648541749257056,0.925812344039495,0.555802157660519,0.553972504855645,0.103945964140489,0.133241380272382,-0.0934593158889931,0.472951748929791,0.656534572108525,0.0742150544232231,0.246563617561818,0.0323298154498997,-0.050843643701189,0.387190092968092,0.44315413200306,0.594256323443738,0.443751150798614,0.503251566651359,0.339995045954625,0.478819979347278,0.169068752826784,0.392679051382713,0.506503489466985,0.448927544419831,0.641507592039711,0.673229679772033,0.740399868055886,0.639231960022506,0.720575766368722,0.581750832976068,0.508740525065979,0.435919853157325,0.140626698701341,-0.251444624963793,-1.06327078241377,-0.71093199449672,-0.350705687355877,0.319679229099582,0.441865276411235,0.24413694596139,0.471406550127068,0.524308302347842,0.702335459902493,0.760603241745918,0.487940132580394,0.00227585531227192,-0.106969207946338,0.000702545718295974,0.129079873867798,-0.142350601288406,-0.111415168353073,0.00862866136030266,-0.205889594753766,0.435551066781415,0.325006662304022,0.204678378588496,0.231698162703184,-0.0290950712084348,0.197103424158103,0.310833044241659,0.486651276988568,0.572412932950267,0.394887976190454,0.39757099100178,0.506124217464117,0.372665313694116,0.427178971927076,0.668717012155834,0.564581635308977,0.757066864928141,0.688284770632099,0.611927721905667,0.411108993850377,0.447220820406928,0.420485490294389,0.323138413080937,0.59523261424216,0.412720899862563,0.518875565515727],[0.68952436267287,0.682539423316113,0.827379953583433,0.628039333194106,0.594240337348848,0.244161959668712,0.21854266577265,0.00749703684181807,0.455618656476773,0.624430667751444,0.11745829487234,0.266589897322212,0.0460995147515535,-0.0471912505401965,0.453146685606716,0.505619217889068,0.668309352775453,0.464302028456042,0.527364792011365,0.333127062712511,0.498505686349607,0.134436314467345,0.414268486244904,0.547828483627978,0.465350975593073,0.69909104620268,0.713409607297743,0.782469260432195,0.636958278366377,0.740242321787058,0.544648634799849,0.453302435660165,0.368627594825629,-0.0248906681750953,-0.482640735630662,-1.52071818099307,-0.861717997364699,-0.280931685517831,0.510643194317886,0.575164491458041,0.291071831296511,0.505839066245045,0.529981888509021,0.671028279193571,0.705006231200116,0.497830094975897,0.206560255323761,0.114189234789354,0.123203485205428,0.154918002203303,0.0585236857724969,0.0240617469892572,0.0277140170114034,-0.0107290279303537,0.0584659450749796,0.164929976832732,0.195266660157502,0.206783819397166,0.18353042111739,0.154637136752179,0.192093300106351,0.260173051957449,0.348521149681749,0.38807012531425,0.390484450950541,0.417331603782252,0.409694317760461,0.413413279190024,0.506326206687351,0.515567848304659,0.607608720991288,0.618408531223546,0.601168628049518,0.514346429925975,0.494435129396209,0.466306670309877,0.411061602205425,0.49157193520704,0.445744272754389,0.474638089857099]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## {transition=\"none\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-dfe10be69374b8284e11\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-dfe10be69374b8284e11\">{\"x\":{\"attrs\":{\"title\":\"Prévisions en temps réel modèle espace-état  <br> <small> RMSE lineaire = 0,393, RMSE espace etat= 0,352\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"ssm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"purple\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":130,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0.534166404954693,-0.103104411127666,-0.18964603220776,-0.0369624431061809,0.120360933906096,-0.213646487100405,-0.152235283111508,-0.00898133106222101,-0.255851709075095,0.529461280039197,0.356904679356119,0.234367383828075,0.258528001348958,-0.0304532186859527,0.229980773785856,0.344607701510106,0.537855377337867,0.617416351661923,0.425395592011462,0.424329184441411,0.540121408347168,0.389049869304241,0.442039667842381,0.690114375240407,0.588350042693233,0.791377206993168,0.726283248821032,0.64498297798604,0.421800084528736,0.458828700171521,0.429774829959946,0.333869521235204,0.613298302931367,0.431632598322139,0.532052195143179],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.720948311943592,0.774237225475508,0.666007715553683,0.572543552396052,0.449693753070391,0.0897377764353369,-0.53628831552781,-1.27042073712502,-0.955958230578561,-0.521894985834426,0.489849993630604,0.501595354318642,0.243389264458204,0.547706588023708,0.587045969254309,0.808338339223543,0.847671108942671,0.455178385541669,-0.213350314748408,-0.0948244446498659,0.0321685279428058,0.129071249236767,-0.101532694745452,-0.0649183496945184,-0.0132382651921236,-0.124605410249543,-0.0114200353451825,0.140976863219876,0.218180888883227,0.227434321978985,0.172006437381231,0.159467152285608,0.173474131310652,0.27745479978152,0.330507267425458,0.421021086120569,0.419235904359288,0.415524700504446,0.474439099809279,0.423763306357899,0.366462012144872,0.526635940223509,0.578140670151695,0.663189932197716,0.656441080993535,0.550795995192239,0.511595965748235,0.47332289027508,0.419238848320898,0.503552807707882,0.472352641598592,0.501967685816799]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n## \n\n\n::: {.cell layout=\"[[50,50],[50,50]]\"}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-6011f36da595e8b104b4\" style=\"width:960px;height:336px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6011f36da595e8b104b4\">{\"x\":{\"attrs\":{\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"valueRange\":[-3.5,0],\"drawAxis\":true}},\"title\":\"Coefficients intercept\",\"labels\":[\"quarter\",\"lineaire\",\"morceaux\",\"locale\",\"espace_etat\"],\"retainDateWindow\":false,\"legend\":\"auto\",\"labelsDivWidth\":300,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"red\",\"green\",\"blue\",\"purple\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285,-2.36334606785285],[-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-2.90430845063057,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791,-1.04027884130791],[-2.9670340698044,-2.91001121444079,-2.85885770991586,-2.81218481303299,-2.76877564440481,-2.72718842603531,-2.68585452030261,-2.6429370650547,-2.59607081186545,-2.54213223476258,-2.47766274901769,-2.39932223716087,-2.30417834790038,-2.19306658173109,-2.07708533591729,-1.97137167190776,-1.88994288218481,-1.8439264342119,-1.83849705408155,-1.87266937757318,-1.93982573229556,-2.02952948800223,-2.1302480014736,-2.23126994396684,-2.32477663151675,-2.40664359121031,-2.47589961078263,-2.53293595088191,-2.5781009109474,-2.61208421011362,-2.63576939655536,-2.64947226931245,-2.65403825643237,-2.65085725256613,-2.64136627749423,-2.62705240046464,-2.60910575308859,-2.58855604138013,-2.56631499814417,-2.54302807210251,-2.51883274631691,-2.49329861128925,-2.46562852115941,-2.43408856301156,-2.39589850410928,-2.34778546869293,-2.28595036985968,-2.20688065235801,-2.10825375304614,-1.9898558339752,-1.85418479978651,-1.7069532321651,-1.55668847920417,-1.41511392843372,-1.2957636013812,-1.21071669336092,-1.16586742152431,-1.15844278542076,-1.17813803165245,-1.20890804611165,-1.23468919196694,-1.24797398137684,-1.25057990716552,-1.24639311844457,-1.23907653094483,-1.23167261772781,-1.22738814980064,-1.22924918853718,-1.23976991800067,-1.26119110124368,-1.29490174328076,-1.33976569000597,-1.39135601273481,-1.44143958505069,-1.48016165905985,-1.49777874049167,-1.48609739400158,-1.44896266854815,-1.39195173261177,-1.3114791899925],[-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804,-2.16118273938804]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-3ec74b6c359d751471a2\" style=\"width:960px;height:336px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3ec74b6c359d751471a2\">{\"x\":{\"attrs\":{\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"valueRange\":[0,0.06],\"drawAxis\":true}},\"title\":\"Coefficients climat\",\"labels\":[\"quarter\",\"lineaire\",\"morceaux\",\"locale\",\"espace_etat\"],\"retainDateWindow\":false,\"legend\":\"auto\",\"labelsDivWidth\":300,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"red\",\"green\",\"blue\",\"purple\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547,0.0268301481132547],[0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0323987374989445,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026,0.0133221095670026],[0.0331609958291063,0.032665839675859,0.032220062107516,0.0318124004962794,0.0314317294773245,0.0310637217385991,0.0306929141801804,0.0303012694931434,0.0298655008211189,0.0293547110166651,0.0287347515270523,0.0279724566535535,0.0270387054541046,0.0259412727774893,0.0247872820490583,0.0237231835391731,0.0228848411219689,0.0223806119047892,0.0222618749720785,0.0225208182718793,0.0230952764417386,0.0238858726183492,0.0247823115288521,0.0256815131364543,0.026508335878702,0.0272241705501765,0.0278216363679217,0.0283061997141737,0.0286825400018778,0.0289586759704809,0.0291442005063505,0.0292435516121847,0.0292659923558616,0.0292256504360895,0.0291365210229075,0.0290123996351772,0.0288644972640376,0.0287023484429431,0.0285339456201363,0.028363927037785,0.02819105024917,0.0280080481258255,0.0278042940817525,0.0275587928937829,0.0272392232891841,0.0268087542230477,0.0262255192033796,0.0254517667121714,0.0244636088341555,0.023260660372354,0.0218720261922381,0.0203608309904212,0.0188188982994231,0.0173704713945479,0.0161571110593013,0.0153030610657597,0.0148659227629684,0.0148126038473759,0.0150340237346342,0.0153656049557136,0.015645460951486,0.015797904072991,0.0158402967520387,0.0158104233797634,0.0157435143284353,0.0156685282552709,0.0156162159911169,0.0156159587609415,0.0156927007432194,0.0158693084280856,0.0161602902755614,0.0165554521816356,0.0170136374404843,0.0174578176962774,0.0177956040162694,0.0179355854640983,0.0178008765652236,0.0174270189812437,0.016865345377463,0.016081221826219],[0.024993004161951,0.0249920802622588,0.0249902246187042,0.0249887332716246,0.0249867408879746,0.024985013231361,0.0249835642098671,0.0249819912425185,0.02498057867564,0.0249789184480345,0.0249777710144641,0.0249763330715654,0.0249749790735394,0.0249735196561302,0.0249723945081965,0.0249707868194616,0.0249687923870312,0.0249660799066907,0.0249630755469763,0.0249606894378197,0.0249573042919666,0.0249545741266243,0.0249515091242203,0.0249481193976035,0.0249444451249651,0.0249400529889897,0.0249348226896385,0.0249311716372349,0.0249276735009877,0.0249239502474389,0.0249203756499713,0.0249169902185513,0.0249142774226763,0.0249112848916739,0.02490952891227,0.024907074852524,0.0249046023681519,0.0249035671150399,0.0249020734638164,0.0249012041796232,0.0249000631288999,0.0248988186225645,0.0248976119172632,0.0248961536612019,0.0248947186153964,0.0248924579511759,0.0248916667712415,0.0248901758386255,0.0248885560515941,0.0248871521890108,0.0248863903575801,0.0248852505139767,0.0248844121448691,0.0248834832134898,0.0248812175818006,0.024879250308972,0.0248762379222432,0.0248736395367523,0.0248712815747891,0.0248680908867147,0.0248653320704381,0.0248618485920218,0.0248586855836051,0.0248558042281621,0.024853374281111,0.0248504097550108,0.0248491578376422,0.0248481804335899,0.0248467910147166,0.0248448469639251,0.0248421783109706,0.0248388926721446,0.024835652046938,0.02483378648722,0.0248320870383674,0.0248306728244958,0.0248289616345418,0.0248266481981614,0.02482383005121,0.024822044222181]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-f1c7eec6516858e8056a\" style=\"width:960px;height:336px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f1c7eec6516858e8056a\">{\"x\":{\"attrs\":{\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"valueRange\":[-0.05,0.15],\"drawAxis\":true}},\"title\":\"Coefficients diff_climat\",\"labels\":[\"quarter\",\"lineaire\",\"morceaux\",\"locale\",\"espace_etat\"],\"retainDateWindow\":false,\"legend\":\"auto\",\"labelsDivWidth\":300,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true,\"showRangeSelector\":true,\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"red\",\"green\",\"blue\",\"purple\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\"],[0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783,0.0546084762336783],[0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,0.0716861506885658,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134,-0.00824426109482134],[0.0359600807102281,0.0379922865724163,0.039855259670163,0.0415939342115372,0.0432226815540668,0.0447342681959851,0.0461266072018442,0.0474022257847972,0.04856973024522,0.0496490233645825,0.0506729107252286,0.0517110219985427,0.0528608805796079,0.0542879212916973,0.0562235595436741,0.0588569419068933,0.06221469687729,0.0661244378284594,0.070251853357684,0.0741890987399156,0.077587618385751,0.0802488083587122,0.0821458512319533,0.0833822862618391,0.0840898682150437,0.0843750657275498,0.0843250163551055,0.0840210297071241,0.0835312670943575,0.0829107265838741,0.0822054563450131,0.081443471521742,0.0806233779463514,0.0797378595463842,0.0787845741234624,0.077754210097378,0.0766286654328992,0.0753839355129584,0.0739939136167564,0.0724288750974661,0.0706551442981634,0.068641405376151,0.0663610116831701,0.0637854615127096,0.0608839831982312,0.0576247766045248,0.0539764583932241,0.0499094955120872,0.0454005868781757,0.0404369429495817,0.0350282114207153,0.029216751406373,0.0230876280138654,0.0167848138859618,0.01051566079583,0.00455236976700075,-0.00079130224120377,-0.00525326758601036,-0.00872966024844429,-0.0113363644602369,-0.0132508196696175,-0.0144531218300793,-0.0148960669287163,-0.0145946280244669,-0.0135558721574601,-0.01176608136513,-0.00926000119809878,-0.0061259977775077,-0.00250576830756428,0.00143927045430676,0.0055721621416062,0.00974981907665421,0.0137890787368015,0.0175109411374603,0.0207794357082105,0.0235062469071495,0.0256570961542459,0.0272924086891151,0.0284973507176587,0.02924874417076],[0.017030400114521,0.0190578694807757,0.0220035943067179,0.0257099596495981,0.0305704985521337,0.0350102501207711,0.0377630282290021,0.0409984612592718,0.043352497262913,0.0449539672552519,0.0486070010898455,0.0534163392189304,0.0581695952550875,0.0632448643045796,0.0672648579119786,0.0697190683435352,0.0711028611823141,0.0699790306765769,0.0686687035792348,0.0680277899020336,0.0684811654932532,0.0694679611003146,0.071455082540968,0.0732613829130974,0.0746006220194809,0.0756141267641926,0.0746259637827635,0.0766486730813759,0.0789698569816064,0.0812338819485227,0.0836472759432271,0.085916965342865,0.0873234120631111,0.0891925832850957,0.0855364381099663,0.0874753256387299,0.089749152124378,0.0810159348356124,0.0720499362645066,0.0691290243191601,0.0641578099529537,0.0589331920070666,0.0538705979432104,0.0479574998959841,0.0421402781827815,0.0336042232099243,0.0240418485987829,0.0187048865928186,0.0140908797660396,0.00893127205559853,0.00370670291599965,-0.000168153289550305,-0.00465756174520296,-0.00916635868172349,-0.00999338190130538,-0.00892015642038487,-0.010763948188346,-0.0124433616243996,-0.0139804851866015,-0.0131482565069773,-0.0119248532197453,-0.0121295440353917,-0.0112680538969812,-0.00952649107144878,-0.00774348331518243,-0.0060095088045197,-0.00210590962327616,0.00162262829074363,0.00527624025971916,0.00741192383844291,0.00903964649936917,0.00914067060678286,0.00928352693319697,0.00919362378723146,0.00872944548955013,0.00794003688627786,0.00746673036289698,0.00808231797517112,0.00780254694442538,0.00669163099136492]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n##\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"dygraphs html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-e654a615b8f07c34be41\" style=\"width:960px;height:672px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e654a615b8f07c34be41\">{\"x\":{\"attrs\":{\"title\":\"Previsions 2023 Q1\",\"labels\":[\"quarter\",\"PIB\",\"lm\",\"piece_lm\",\"tvlm\",\"ssm\"],\"retainDateWindow\":false,\"axes\":{\"x\":{\"pixelsPerLabel\":60,\"drawAxis\":true},\"y\":{\"drawAxis\":true}},\"stackedGraph\":false,\"fillGraph\":false,\"fillAlpha\":0.15,\"stepPlot\":false,\"drawPoints\":false,\"pointSize\":1,\"drawGapEdgePoints\":false,\"connectSeparatedPoints\":false,\"strokeWidth\":1,\"strokeBorderColor\":\"white\",\"colors\":[\"black\",\"red\",\"green\",\"blue\",\"purple\"],\"colorValue\":0.5,\"colorSaturation\":1,\"includeZero\":false,\"drawAxesAtZero\":false,\"logscale\":false,\"axisTickSize\":3,\"axisLineColor\":\"black\",\"axisLineWidth\":0.3,\"axisLabelColor\":\"black\",\"axisLabelFontSize\":14,\"axisLabelWidth\":60,\"drawGrid\":true,\"gridLineWidth\":0.3,\"rightGap\":5,\"digitsAfterDecimal\":2,\"labelsKMB\":false,\"labelsKMG2\":false,\"labelsUTC\":false,\"maxNumberWidth\":6,\"animatedZooms\":false,\"mobileDisableYTouch\":true,\"disableZoom\":false,\"showRangeSelector\":true,\"dateWindow\":[\"2018-01-01T00:00:00.000Z\",\"2023-01-01T00:00:00.000Z\"],\"rangeSelectorHeight\":40,\"rangeSelectorPlotFillColor\":\" #A7B1C4\",\"rangeSelectorPlotStrokeColor\":\"#808FAB\",\"interactionModel\":\"Dygraph.Interaction.defaultModel\",\"legend\":\"auto\",\"labelsDivWidth\":300,\"labelsShowZeroValues\":true,\"labelsSeparateLines\":false,\"hideOverlayOnMouseOut\":true},\"scale\":\"quarterly\",\"annotations\":[],\"shadings\":[],\"events\":[],\"format\":\"date\",\"data\":[[\"2000-01-01T00:00:00.000Z\",\"2000-04-01T00:00:00.000Z\",\"2000-07-01T00:00:00.000Z\",\"2000-10-01T00:00:00.000Z\",\"2001-01-01T00:00:00.000Z\",\"2001-04-01T00:00:00.000Z\",\"2001-07-01T00:00:00.000Z\",\"2001-10-01T00:00:00.000Z\",\"2002-01-01T00:00:00.000Z\",\"2002-04-01T00:00:00.000Z\",\"2002-07-01T00:00:00.000Z\",\"2002-10-01T00:00:00.000Z\",\"2003-01-01T00:00:00.000Z\",\"2003-04-01T00:00:00.000Z\",\"2003-07-01T00:00:00.000Z\",\"2003-10-01T00:00:00.000Z\",\"2004-01-01T00:00:00.000Z\",\"2004-04-01T00:00:00.000Z\",\"2004-07-01T00:00:00.000Z\",\"2004-10-01T00:00:00.000Z\",\"2005-01-01T00:00:00.000Z\",\"2005-04-01T00:00:00.000Z\",\"2005-07-01T00:00:00.000Z\",\"2005-10-01T00:00:00.000Z\",\"2006-01-01T00:00:00.000Z\",\"2006-04-01T00:00:00.000Z\",\"2006-07-01T00:00:00.000Z\",\"2006-10-01T00:00:00.000Z\",\"2007-01-01T00:00:00.000Z\",\"2007-04-01T00:00:00.000Z\",\"2007-07-01T00:00:00.000Z\",\"2007-10-01T00:00:00.000Z\",\"2008-01-01T00:00:00.000Z\",\"2008-04-01T00:00:00.000Z\",\"2008-07-01T00:00:00.000Z\",\"2008-10-01T00:00:00.000Z\",\"2009-01-01T00:00:00.000Z\",\"2009-04-01T00:00:00.000Z\",\"2009-07-01T00:00:00.000Z\",\"2009-10-01T00:00:00.000Z\",\"2010-01-01T00:00:00.000Z\",\"2010-04-01T00:00:00.000Z\",\"2010-07-01T00:00:00.000Z\",\"2010-10-01T00:00:00.000Z\",\"2011-01-01T00:00:00.000Z\",\"2011-04-01T00:00:00.000Z\",\"2011-07-01T00:00:00.000Z\",\"2011-10-01T00:00:00.000Z\",\"2012-01-01T00:00:00.000Z\",\"2012-04-01T00:00:00.000Z\",\"2012-07-01T00:00:00.000Z\",\"2012-10-01T00:00:00.000Z\",\"2013-01-01T00:00:00.000Z\",\"2013-04-01T00:00:00.000Z\",\"2013-07-01T00:00:00.000Z\",\"2013-10-01T00:00:00.000Z\",\"2014-01-01T00:00:00.000Z\",\"2014-04-01T00:00:00.000Z\",\"2014-07-01T00:00:00.000Z\",\"2014-10-01T00:00:00.000Z\",\"2015-01-01T00:00:00.000Z\",\"2015-04-01T00:00:00.000Z\",\"2015-07-01T00:00:00.000Z\",\"2015-10-01T00:00:00.000Z\",\"2016-01-01T00:00:00.000Z\",\"2016-04-01T00:00:00.000Z\",\"2016-07-01T00:00:00.000Z\",\"2016-10-01T00:00:00.000Z\",\"2017-01-01T00:00:00.000Z\",\"2017-04-01T00:00:00.000Z\",\"2017-07-01T00:00:00.000Z\",\"2017-10-01T00:00:00.000Z\",\"2018-01-01T00:00:00.000Z\",\"2018-04-01T00:00:00.000Z\",\"2018-07-01T00:00:00.000Z\",\"2018-10-01T00:00:00.000Z\",\"2019-01-01T00:00:00.000Z\",\"2019-04-01T00:00:00.000Z\",\"2019-07-01T00:00:00.000Z\",\"2019-10-01T00:00:00.000Z\",\"2020-01-01T00:00:00.000Z\",\"2020-04-01T00:00:00.000Z\",\"2020-07-01T00:00:00.000Z\",\"2020-10-01T00:00:00.000Z\",\"2021-01-01T00:00:00.000Z\",\"2021-04-01T00:00:00.000Z\",\"2021-07-01T00:00:00.000Z\",\"2021-10-01T00:00:00.000Z\",\"2022-01-01T00:00:00.000Z\",\"2022-04-01T00:00:00.000Z\",\"2022-07-01T00:00:00.000Z\",\"2022-10-01T00:00:00.000Z\",\"2023-01-01T00:00:00.000Z\"],[1.03542564383241,1.03502707454992,0.692617862597089,0.817917365904552,0.492223773499134,0.129884396425273,0.271478417250703,-0.0650041619826514,0.56395053035394,0.409650590887356,0.24427734088488,0.229684676659958,0.0939485695060638,-0.203998368013059,0.671711030804234,0.675645819349446,0.972286084521179,0.58702743877197,0.270399301982938,0.753188223173562,0.225489477157725,0.278433213627372,0.553090843498993,0.667354647295704,0.765443518757669,1.04059037657569,0.0829877150650304,0.722691288209987,0.724723912377656,0.682904532812723,0.471097431951528,0.188206372212085,0.480811493611477,-0.544315497586523,-0.164456071106212,-1.51069959163034,-1.70676541116205,-0.0128607693114291,0.183042180833803,0.706338279939867,0.339708423474394,0.488876639280966,0.638808594737794,0.661427306780893,1.03458605036983,-0.0931247339293284,0.506005486164751,0.172614158146356,0.022673251986749,-0.144320315540125,0.24138596404939,-0.124931589575195,0.0723695647244726,0.667659848454805,-0.0827163990419155,0.644820970666737,0.0059685791610864,0.0975431437241436,0.573322700374135,-0.0455747138148777,0.521011923406989,0.119851457946885,0.229286835068176,0.197158202461067,0.616351186306408,-0.296536879382214,0.294494004094759,0.585982710320399,0.731880565209675,0.808051735458393,0.850111617299887,0.600890719635649,0.0650770283366464,0.448036391312057,0.379193526937271,0.587647718180118,0.661855691543023,0.697790931300402,0.020345845173253,-0.256408064888336,-5.58230006598058,-13.5740889982793,18.4236833925586,-0.914214573520233,0.0570950946543691,1.06612096537611,3.34409447146529,0.579389953587151,-0.226981318739328,0.502099191043448,0.168454800792017,0.0751007842352713,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0.534166404954693,-0.103104411127666,-0.18964603220776,-0.0369624431061809,0.120360933906096,-0.213646487100405,-0.152235283111508,-0.00898133106222101,-0.255851709075095,0.529461280039197,0.356904679356119,0.234367383828075,0.258528001348958,-0.0304532186859527,0.229980773785856,0.344607701510106,0.537855377337867,0.617416351661923,0.425395592011462,0.424329184441411,0.540121408347168,0.389049869304241,0.442039667842381,0.690114375240407,0.588350042693233,0.791377206993168,0.726283248821032,0.64498297798604,0.421800084528736,0.458828700171521,0.429774829959946,0.333869521235204,0.613298302931367,0.431632598322139,0.532052195143179,0.439930319978685,-3.38101686608777,6.70739710226552,-4.27027827555202,4.35253042144344,5.61281441850678,0.519910586791915,1.33449267142303,0.198685168556058,-1.49304537799873,-0.161135480299461,0.0481107318863168,0.679511766449941],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.724592656305297,0.798716004234719,0.669715716255812,0.589472239397876,0.500830568820907,0.236745374837221,-0.234231918836666,-1.02406432065418,-0.781040712507233,-0.649355176772414,0.411615694960853,0.488319091435667,0.257380026264137,0.548569509906509,0.60352700522379,0.825557239005237,0.8823447669756,0,-0.0931247339293284,1.03139660224725,-0.395580079618906,-0.271088982077858,0.0715315207128959,0.010772005556985,-0.225781504632073,0.084777092889227,-0.530609485934445,-0.104130115276097,0.121860746569997,0.0997633435659908,0.205022098459593,0.123490111488231,0.05501592960105,0.0580066495275949,0.0538048435943586,0.153999787076283,0.160273727575456,0.201716543113981,0.172138256138145,0.167094480287732,0.155272642436341,0.294338963247788,0.372860903574141,0.497509267606082,0.524501979305841,0.43799086051712,0.411474019312507,0.391361287299209,0.381945722979368,0.38565443078835,0.416557034038518,0.396881457026985,0.369325848558275,-0.155890525919924,8.87231321179245,-4.1563244944087,6.11555606018097,6.27584449095388,-0.167829999929294,0.783796717922417,-0.560649685482819,-2.259363584007,-0.474365841383655,-0.155228160537524,0.565511504964111],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.5276247707814,0.66191917957039,0.52366727310143,0.454868076627894,0.353084140049704,0.128716630730169,-0.549778196143556,-1.10539557602248,-0.446952374704284,-0.742346449645025,0.628440977330927,0.527080871966631,0.238990948074826,0.546665560026589,0.580817194327205,0.806529908615885,0.838275146063367,0.44634617254388,-0.276306614923397,-0.281519942152625,-0.0794579940184151,0.0965452119810076,-0.252910762657107,-0.164447743786797,-0.0106787301257058,-0.258845399155314,0.556884299781109,0.343569139626227,0.229162100464442,0.248050295942899,-0.0276988539543394,0.231739963804723,0.330709369930597,0.509833745356822,0.564261638528959,0.379828266029857,0.371284539713841,0.480548569990783,0.317763479089637,0.361437922111102,0.572633093858898,0.495441121329107,0.682915707527701,0.643890709302582,0.575364232821664,0.354044847652962,0.395555932015298,0.37300858957506,0.304623186554566,0.538653638137406,0.401742313903059,0.470892721044321,0.378817575284975,-3.01000477191936,8.29816113991995,-4.36256394043285,5.77230850568998,6.17535731746893,-0.126979477613084,0.823933148476478,-0.513149986329287,-2.24182172694856,-0.487510238049651,-0.176457777322327,0.544167882786276],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,0.720948311943592,0.774237225475508,0.666007715553683,0.572543552396052,0.449693753070391,0.0897377764353369,-0.53628831552781,-1.27042073712502,-0.955958230578561,-0.521894985834426,0.489849993630604,0.501595354318642,0.243389264458204,0.547706588023708,0.587045969254309,0.808338339223543,0.847671108942671,0.455178385541669,-0.213350314748408,-0.0948244446498659,0.0321685279428058,0.129071249236767,-0.101532694745452,-0.0649183496945184,-0.0132382651921236,-0.124605410249543,-0.0114200353451825,0.140976863219876,0.218180888883227,0.227434321978985,0.172006437381231,0.159467152285608,0.173474131310652,0.27745479978152,0.330507267425458,0.421021086120569,0.419235904359288,0.415524700504446,0.474439099809279,0.423763306357899,0.366462012144872,0.526635940223509,0.578140670151695,0.663189932197716,0.656441080993535,0.550795995192239,0.511595965748235,0.47332289027508,0.419238848320898,0.503552807707882,0.472352641598592,0.501967685816799,-0.118391910969049,-6.9411427800677,9.18470834381806,-8.34832507426023,1.69162021761522,0.672967705180456,0.408212105129656,0.762754102507121,0.464051890355806,-0.149356638718722,0.345384225670527,0.31991299881595,0.389421350902238]],\"fixedtz\":false,\"tzone\":\"\"},\"evals\":[\"attrs.interactionModel\"],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n## Résultats\n\nEtude de 25 modèles de prévision de la production manufacturière estimés entre 1990 T1 et 2019 T4. \nOn estime les différents modèles présentés dans l'échantillon et en temps réel, puis on compare les RMSE des modèles par rapport au modèle linéaire. \nEnfin on fait des moyennes par secteur.\n\n. . . \n\nOn obtient les résultats suivants pour les estimations dans l'échantillon :  \n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-condensed table-hover lightable-classic\" style='width: auto !important; margin-left: auto; margin-right: auto; font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:center;\"> Reg linéaire </th>\n   <th style=\"text-align:center;\"> Espace état </th>\n   <th style=\"text-align:center;\"> Reg morceaux </th>\n   <th style=\"text-align:center;\"> Reg locale + morceaux </th>\n   <th style=\"text-align:center;\"> Reg locale </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> model_c1 (7) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,97 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_c3 (5) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,85 </td>\n   <td style=\"text-align:center;\"> 0,93 </td>\n   <td style=\"text-align:center;\"> 0,90 </td>\n   <td style=\"text-align:center;\"> 0,94 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_c4 (5) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,81 </td>\n   <td style=\"text-align:center;\"> 0,96 </td>\n   <td style=\"text-align:center;\"> 0,90 </td>\n   <td style=\"text-align:center;\"> 0,90 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_c5 (5) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,75 </td>\n   <td style=\"text-align:center;\"> 0,80 </td>\n   <td style=\"text-align:center;\"> 0,78 </td>\n   <td style=\"text-align:center;\"> 0,78 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_manuf (3) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,96 </td>\n   <td style=\"text-align:center;\"> 0,99 </td>\n   <td style=\"text-align:center;\"> 0,97 </td>\n   <td style=\"text-align:center;\"> 0,98 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n. . . \n\nLa plupart des modèles sont généralement meilleurs que le modèle linéaire.  \n\n##\n\nEt en temps réel : \n\n\n::: {.cell}\n::: {.cell-output-display}\n`````{=html}\n<table class=\"table table-condensed table-hover lightable-classic\" style='width: auto !important; margin-left: auto; margin-right: auto; font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:center;\"> Reg linéaire </th>\n   <th style=\"text-align:center;\"> Espace état </th>\n   <th style=\"text-align:center;\"> Reg morceaux </th>\n   <th style=\"text-align:center;\"> Reg locale + morceaux </th>\n   <th style=\"text-align:center;\"> Reg locale </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> model_c1 (7) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,99 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_c3 (5) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,91 </td>\n   <td style=\"text-align:center;\"> 2,73 </td>\n   <td style=\"text-align:center;\"> 2,74 </td>\n   <td style=\"text-align:center;\"> 0,99 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_c4 (5) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,92 </td>\n   <td style=\"text-align:center;\"> 5,13 </td>\n   <td style=\"text-align:center;\"> 5,19 </td>\n   <td style=\"text-align:center;\"> 1,06 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_c5 (5) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,87 </td>\n   <td style=\"text-align:center;\"> 2,58 </td>\n   <td style=\"text-align:center;\"> 2,75 </td>\n   <td style=\"text-align:center;\"> 1,26 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> model_manuf (3) </td>\n   <td style=\"text-align:center;\"> 1 </td>\n   <td style=\"text-align:center;\"> 0,96 </td>\n   <td style=\"text-align:center;\"> 1,01 </td>\n   <td style=\"text-align:center;\"> 1,03 </td>\n   <td style=\"text-align:center;\"> 1,00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n\n. . . \n\nLes modèles espace-état sont meilleurs que le modèle linéaire en terme de RMSE pour la prévision en temps réel.\nPour ce qui est des autres modèles, plus variable d'un modèle à l'autre.\n\n\n## Conclusion\n\n- De nombreux modèles peuvent être estimés autour des régressions linéaires : le cadre reste simple mais la modélisation est plus complexe\\\n{{< fa arrow-circle-right >}} choix de modélisations doivent être faits\n\n. . .\n\n- Même s'ils peuvent améliorer les performances des modèles «\\ classiques\\ » ils ne les remplacent pas pour autant\n\n. . .\n\n- Modèles parfois complexes à implémenter (notamment espace-état)\\\n{{< fa regular face-smile >}} `tvCoef` peut vous aider (<https://github.com/AQLT/tvCoef>)\n\n\n##  À venir\n\nCourt-terme : pause de 10/15 minutes suivie d'un atelier pratique :\\\n<https://aqlt.github.io/AteliertvCoef/>\n\nSur `tvCoef` : documentation, gestion des retards de la variable endogène, amélioration des estimations en temps réel autour de la date de rupture des régressions par morceaux\n\nAutour cette l'étude : séminaire D2E + document de travail\n\nAutres études : analyse de ces méthodes pour la CJO\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.6.1/htmlwidgets.js\"></script>\r\n<script src=\"site_libs/jquery-1.11.1/jquery.min.js\"></script>\r\n<link href=\"site_libs/dygraphs-1.1.1/dygraph.css\" rel=\"stylesheet\" />\r\n<script src=\"site_libs/dygraphs-1.1.1/dygraph-combined.js\"></script>\r\n<script src=\"site_libs/dygraphs-1.1.1/shapes.js\"></script>\r\n<script src=\"site_libs/moment-2.8.4/moment.js\"></script>\r\n<script src=\"site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js\"></script>\r\n<script src=\"site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js\"></script>\r\n<script src=\"site_libs/dygraphs-binding-1.1.1.6/dygraphs.js\"></script>\r\n<script src=\"site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}